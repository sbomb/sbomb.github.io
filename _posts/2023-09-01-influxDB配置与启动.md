# InfluxDB配置与启动

## 配置项

influxDB支持在工作目录下查找配置文件，配置文件名称必须为 config.* 后缀可以使用yaml(.yaml , .yml) TOML(.toml)和JSON(.json)。InfluxDB查找到文件后，会根据当前文件名的后缀选择合适的配置文件解析器进行解析，若为json，则必须使用json的格式进行编写。

此下案例，皆使用json方式进行配置。

### 配置项说明：

|    配置项名称     |                             说明                             |        默认值        |
| :---------------: | :----------------------------------------------------------: | :------------------: |
|    engine-path    | 设置InfluxDB持久化目录位置。保存时序数据的文件路径，数据落盘的位置。 | ~/.influxdbv2/engine |
| http-bind-address |                         IP地址和端口                         |        :8086         |
|     log-level     |                           日志级别                           |         info         |
|    sqlite-path    |         SQLite 数据文件存储位置，主要保存一些元数据          |          与bolt-path默认一致            |
| bolt-path | BoltDB文件存储位置，存储组织、用户、UI资源和一些其他的key-value数据 | ~/.influxdbv2/influxd.bolt |
| flux-log-enabled | 启用日志： 包含一些查询细节| false|



```json
{
    "engine-path":"/opt/soft/data/engine",
    "http-bind-address":":8086",
    "log-level":"info",
    "sqlite-path":"/opt/soft/data/influxdb/sqlit.sqlite",
    "bolt-path":"/opt/soft/data/infludb/influxd.bolt"
}
```



## 设置服务自启动

新建influxdb.service

```shell
[Unit]
Description=influxdb
After=network.target
	
[Service]
ExecStart=/opt/soft/influxdb/influxd  
PrivateTmp=true
[Install]
WantedBy=multi-user.target
```

systemctl daemon-reload

systemctl enable influxdb

systemctl start influxdb 

systemctl stop influxdb